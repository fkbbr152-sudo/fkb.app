<app-novo-nav-bar />

<!-- NAVEGAÇÃO BREADCRUMB ADICIONADA -->
<nav class="breadcrumb-nav">
  <div class="breadcrumb-container">
    <a [routerLink]="['/diploma']" class="breadcrumb-link">Diplomas</a>
    <span class="breadcrumb-separator">/</span>
    <span class="breadcrumb-active">Lista para Retirada</span>
  </div>
</nav>

<div class="container">
  <!-- Título da Página -->
  <h1 class="page-title">Diplomas para Retirada</h1>

  <!-- Caixa de Busca -->
  <div class="search-box">
    <input
      type="text"
      placeholder="Filtrar por nome do aluno..."
      [(ngModel)]="searchTerm"
      (input)="performSearch()"
    >
  </div>

  <!-- Estados de Carregamento e Erro -->
  <div *ngIf="isLoading" class="loading-state">
    <p>Carregando diplomas...</p>
  </div>
  <div *ngIf="error" class="error-state">
    <p>{{ error }}</p>
  </div>

  <!-- Tabela Principal de Diplomas -->
  <ng-container *ngIf="!isLoading && !error">
    <table class="results-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nome do Aluno</th>
          <th>Curso</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let diploma of paginatedDiplomas">
          <td>{{ diploma.id }}</td>
          <td>{{ diploma.nome_aluno }}</td>
          <td>{{ diploma.nome_curso }}</td>
        </tr>
      </tbody>
    </table>

    <!-- Mensagem para quando não há resultados -->
    <div *ngIf="filteredDiplomas.length === 0" class="no-results">
      <p>Nenhum diploma encontrado para os critérios informados.</p>
    </div>

    <!-- Controles de Paginação -->
    <div *ngIf="filteredDiplomas.length > 0" class="pagination-controls">
      <button 
        class="pagination-button"
        (click)="previousPage()" 
        [disabled]="currentPage === 1">
        Anterior
      </button>
      
      <span class="page-info">
        Página {{ currentPage }} de {{ totalPages }}
      </span>
      
      <button 
        class="pagination-button"
        (click)="nextPage()" 
        [disabled]="currentPage === totalPages">
        Próximo
      </button>
    </div>
  </ng-container>
</div>
